<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="robots" content="noindex, nofollow">
<meta name="description" content="SmartEats Vendor Dashboard">
<meta name="author" content="Pi Technologies">

<title>{% block title %}{{ current_user.name }} | SmartEats Vendor Dashboard{% endblock %}</title>

<link rel="icon" href="{{ url_for('static', filename='worka.png') }}">

<!-- Styles -->
<link rel="stylesheet" href="{{ url_for('static', filename='lib/bootstrap/dist/css/bootstrap.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/fontawesome-free/css/all.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/sb-admin-2.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/adminstyle.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/_Layout.css') }}">

<style>
#map{height:300px;width:100%;border:1px solid #ccc;border-radius:8px;}
.bg-success{background-color:#2da350!important;}
.sidebar .nav-link{font-size:14px;padding:10px 15px;}
.sidebar .sidebar-heading{font-size:12px;text-transform:uppercase;color:#d1e7dd;}
.custom-toggle{background:#2da350;border:none;color:#fff;}
</style>
</head>

<body id="page-top">

<!-- Socket.IO (LOCAL) -->
<script src="{{ url_for('static', filename='lib/socket.io/socket.io.min.js') }}"></script>

<audio id="new_order" src="{{ url_for('static', filename='sounds/new_order.wav') }}"></audio>
<audio id="order_update" src="{{ url_for('static', filename='sounds/order_update.wav') }}"></audio>
<audio id="order_ready" src="{{ url_for('static', filename='sounds/order_ready.wav') }}"></audio>

<script>
const socket = io();
const STORE_ID = "{{ store_id }}";

socket.on("connect", () => {
  if (STORE_ID) socket.emit("join",{room:"store_"+STORE_ID});
});
</script>

<div id="wrapper">

<!-- SIDEBAR -->
<ul class="navbar-nav bg-success sidebar sidebar-dark accordion" id="accordionSidebar">

<a class="sidebar-brand d-flex align-items-center justify-content-center">
  <div class="sidebar-brand-text mx-3">{{ current_user.name }}</div>
</a>

<hr class="sidebar-divider my-0">

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.adminpage') }}">
    <i class="fas fa-fw fa-tachometer-alt"></i> <span>Dashboard</span>
  </a>
</li>

<hr class="sidebar-divider">

<div class="sidebar-heading">Order Management</div>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.ActiveOrders') }}">
    <i class="fas fa-receipt"></i> <span>Active Orders</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.delivered_orders') }}">
    <i class="fa fa-check-circle"></i> <span>Complete Orders</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.cancelled_orders') }}">
    <i class="fas fa-times-circle"></i> <span>Cancelled Orders</span>
  </a>
</li>

<hr class="sidebar-divider">

<div class="sidebar-heading">Inventory Management</div>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.vendor_analytics') }}">
    <i class="fas fa-chart-line"></i> <span>Analytics</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.products') }}">
    <i class="fas fa-th-list"></i> <span>View Products</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.manage_ingredients') }}">
    <i class="fas fa-carrot"></i> <span>Ingredients</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.addproducts') }}">
    <i class="fas fa-plus-circle"></i> <span>Add Products</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.manage_categories') }}">
    <i class="fas fa-tags"></i> <span>Categories</span>
  </a>
</li>


<hr class="sidebar-divider">

<div class="sidebar-heading">User & Profile</div>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.addstaff') }}">
    <i class="fas fa-user-plus"></i> <span>Add Staff</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.register_delivery') }}">
    <i class="fas fa-truck"></i> <span>Register Delivery</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.updatestore') }}">
    <i class="fas fa-wallet"></i> <span>Update Payment Options</span>
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('store.update_store_location') }}">
    <i class="fas fa-map-marker-alt"></i> <span>Update Store Location</span>
  </a>
</li>

<hr class="sidebar-divider d-none d-md-block">

<li class="nav-item">
  <a class="nav-link" href="{{ url_for('main.logout') }}">
    <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
  </a>
</li>

</ul>

<!-- CONTENT -->
<div id="content-wrapper" class="d-flex flex-column">
<div id="content">

<nav class="navbar navbar-expand navbar-light bg-white shadow mb-4">
  <ul class="navbar-nav ml-auto">
    <li class="nav-item">
      <span class="nav-link">{{ current_user.name }}</span>
    </li>
  </ul>
</nav>

<div class="container-fluid">
{% block content %}{% endblock %}
</div>

</div>

<footer class="sticky-footer bg-white">
  <div class="container text-center">
    Â© SmartEats 2025
  </div>
</footer>

</div>
</div>

<!-- JS (ORDER IS CRITICAL) -->
<script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/sb-admin-2.min.js') }}"></script>

{% block scripts %}{% endblock %}
</body>
</html>
